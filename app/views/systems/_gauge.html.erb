<canvas id="gauge"></canvas>
<div id="console"></div>
<script>
var gauge = new Gauge({
	renderTo    : 'gauge',
	width       : 100,
	height      : 100,
	glow        : true,
	units       : '%',
	title       : false,
	minValue    : 0,
	maxValue    : 100,
	majorTicks  : ['0','10','20','30','40','50','60','70','80','90','100'],
	minorTicks  : 2,
	strokeTicks : false,
	highlights  : [
		{ from : 0,   to : 20, color : 'green' },
		{ from : 20, to : 40, color : 'yellow' },
		{ from : 40, to : 60, color : 'orange' },
		{ from : 60, to : 80, color : 'red' },
		{ from : 80, to : 100, color : 'darkred' }
	],
	colors      : {
		plate      : '#222',
		majorTicks : '#f5f5f5',
		minorTicks : '#ddd',
		title      : '#fff',
		units      : '#ccc',
		numbers    : '#eee',
		needle     : { start : 'rgba(240, 128, 128, 1)', end : 'rgba(255, 160, 122, .9)' }
	}
});

gauge.onready = function() {
	setInterval( function() {
		var rates = $.ajax({
		  url: "http://mcp.hcpprod.com:88/api/lastcheck?servicename=MEMORY&hostname=<%= host%>&statput=plugin_output",
		  async: false
		  }).responseText;
		gauge.setValue(rates);
	}, 1000);
};

gauge.draw();
window.onresize= function() {
gauge.updateConfig({
	width  : 100,
	height : 100
});
};
</script>